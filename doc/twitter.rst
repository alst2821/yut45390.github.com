======================
 Twitter links Radley
======================

.. list-table::
   :widths: auto

   * - 1
     - `english <https://twitter.com/radleyenglish>`_
     - 2020-04-09 21:44:58
   * - 2
     - `aSocial <https://twitter.com/radleyasocial>`_
     - 2020-04-09 21:40:23
   * - 3
     - `ianyorston <https://twitter.com/ianyorston>`_
     - 2020-04-09 21:35:49
   * - 4
     - `cocurr <https://twitter.com/radleycocurr>`_
     - 2020-04-09 20:37:10
   * - 5
     - `acadsupp <https://twitter.com/radleyacadsupp>`_
     - 2020-04-09 19:46:31
   * - 6
     - `fSocial <https://twitter.com/radleyfsocial>`_
     - 2020-04-09 19:33:00
   * - 7
     - `cricket <https://twitter.com/radleycricket>`_
     - 2020-04-09 17:50:33
   * - 8
     - `jSocial <https://twitter.com/radleyjsocial>`_
     - 2020-04-09 17:18:28
   * - 9
     - `succentor <https://twitter.com/succentor>`_
     - 2020-04-09 15:22:58
   * - 10
     - `jms <https://twitter.com/radleyjms>`_
     - 2020-04-09 15:09:20
   * - 11
     - `college <https://twitter.com/radleycollege>`_
     - 2020-04-09 14:55:16
   * - 12
     - `precentor <https://twitter.com/radleyprecentor>`_
     - 2020-04-09 14:19:37
   * - 13
     - `physics <https://twitter.com/radleyphysics>`_
     - 2020-04-09 14:17:55
   * - 14
     - `music <https://twitter.com/radleymusic>`_
     - 2020-04-09 13:01:25
   * - 15
     - `gSocial <https://twitter.com/radleygsocial>`_
     - 2020-04-09 12:12:40
   * - 16
     - `design <https://twitter.com/radleydesign>`_
     - 2020-04-09 11:49:02
   * - 17
     - `strength <https://twitter.com/radleystrength>`_
     - 2020-04-09 11:10:47
   * - 18
     - `andrewcnorman <https://twitter.com/andrewcnorman>`_
     - 2020-04-09 10:54:06
   * - 19
     - `eSocial <https://twitter.com/radleyesocial>`_
     - 2020-04-09 09:46:05
   * - 20
     - `archives <https://twitter.com/radleyarchives>`_
     - 2020-04-08 22:59:15
   * - 21
     - `gallery <https://twitter.com/radleygallery>`_
     - 2020-04-08 13:28:27
   * - 22
     - `library <https://twitter.com/radleylibrary>`_
     - 2020-04-08 13:22:51
   * - 23
     - `enrich <https://twitter.com/radleyenrich>`_
     - 2020-04-08 11:04:40
   * - 24
     - `geol <https://twitter.com/radleygeol>`_
     - 2020-04-08 09:51:24
   * - 25
     - `dSocial <https://twitter.com/radleydsocial>`_
     - 2020-04-08 08:22:12
   * - 26
     - `theatre <https://twitter.com/radleytheatre>`_
     - 2020-04-07 22:16:15
   * - 27
     - `govtpol <https://twitter.com/radleygovtpol>`_
     - 2020-04-05 22:26:33
   * - 28
     - `sports <https://twitter.com/radleysports>`_
     - 2020-04-05 12:46:34
   * - 29
     - `sust <https://twitter.com/radleysust>`_
     - 2020-04-04 13:19:00
   * - 30
     - `artdept <https://twitter.com/radleyartdept>`_
     - 2020-04-04 11:42:45
   * - 31
     - `medical <https://twitter.com/radleymedical>`_
     - 2020-04-04 10:17:39
   * - 32
     - `hSocial <https://twitter.com/radleyhsocial>`_
     - 2020-04-04 07:14:57
   * - 33
     - `lSocial <https://twitter.com/radleylsocial>`_
     - 2020-04-03 17:00:26
   * - 34
     - `chemistry <https://twitter.com/radleychemistry>`_
     - 2020-04-03 11:20:41
   * - 35
     - `_football <https://twitter.com/radley_football>`_
     - 2020-04-03 10:06:47
   * - 36
     - `passionforpiano <https://twitter.com/passionforpiano>`_
     - 2020-04-02 21:05:21
   * - 37
     - `theology <https://twitter.com/radleytheology>`_
     - 2020-04-02 12:34:57
   * - 38
     - `charities <https://twitter.com/radleycharities>`_
     - 2020-03-31 20:02:11
   * - 39
     - `campus <https://twitter.com/radleycampus>`_
     - 2020-03-31 14:15:04
   * - 40
     - `kSocial <https://twitter.com/radleyksocial>`_
     - 2020-03-31 08:58:37
   * - 41
     - `radleiansociety <https://twitter.com/radleiansociety>`_
     - 2020-03-30 09:28:02
   * - 42
     - `rackets <https://twitter.com/radleyrackets>`_
     - 2020-03-29 15:46:51
   * - 43
     - `pshe <https://twitter.com/radleypshe>`_
     - 2020-03-28 13:04:32
   * - 44
     - `climates <https://twitter.com/radleyclimates>`_
     - 2020-03-28 09:14:04
   * - 45
     - `bSocial <https://twitter.com/radleybsocial>`_
     - 2020-03-24 20:47:48
   * - 46
     - `ccf <https://twitter.com/radleyccf>`_
     - 2020-03-24 19:15:37
   * - 47
     - `chorister <https://twitter.com/radleychorister>`_
     - 2020-03-24 07:04:06
   * - 48
     - `adventure <https://twitter.com/radleyadventure>`_
     - 2020-03-19 10:28:29
   * - 49
     - `cSocial <https://twitter.com/radleycsocial>`_
     - 2020-03-18 23:31:44
   * - 50
     - `bc <https://twitter.com/radleybc>`_
     - 2020-03-18 17:10:44
   * - 51
     - `fencing <https://twitter.com/radleyfencing>`_
     - 2020-03-18 13:41:54
   * - 52
     - `employ <https://twitter.com/radleyemploy>`_
     - 2020-03-18 11:00:52
   * - 53
     - `classics <https://twitter.com/radleyclassics>`_
     - 2020-03-18 10:07:42
   * - 54
     - `hockey <https://twitter.com/radleyhockey>`_
     - 2020-03-17 17:39:55
   * - 55
     - `subwarden <https://twitter.com/radleysubwarden>`_
     - 2020-03-14 15:56:53
   * - 56
     - `sailing <https://twitter.com/radleysailing>`_
     - 2020-03-14 15:36:58
   * - 57
     - `links <https://twitter.com/radleylinks>`_
     - 2020-03-14 14:13:22
   * - 58
     - `badminton <https://twitter.com/radleybadminton>`_
     - 2020-03-12 17:51:28
   * - 59
     - `geography <https://twitter.com/radleygeography>`_
     - 2020-03-11 16:23:18
   * - 60
     - `polo <https://twitter.com/radleypolo>`_
     - 2020-03-11 13:36:18
   * - 61
     - `academic <https://twitter.com/radleyacademic>`_
     - 2020-03-10 23:11:14
>>>>>>> update
   * - 62
     - `iSocial <https://twitter.com/radleyisocial>`_
     - 2020-03-08 11:47:04
   * - 63
     - `it <https://twitter.com/radleyit>`_
     - 2020-02-18 09:50:04
   * - 64
     - `history <https://twitter.com/radleyhistory>`_
     - 2020-02-12 18:28:56
   * - 65
     - `gehandu <https://twitter.com/radleygehandu>`_
     - 2020-02-12 07:48:21
   * - 66
     - `sportscen <https://twitter.com/radleysportscen>`_
     - 2020-02-01 08:08:59
   * - 67
     - `rugby <https://twitter.com/radleyrugby>`_
     - 2020-01-31 11:25:49
   * - 68
     - `biology <https://twitter.com/radleybiology>`_
     - 2020-01-31 09:36:55
   * - 69
     - `chronicle <https://twitter.com/radleychronicle>`_
     - 2020-01-18 13:43:25
   * - 70
     - `xcountry <https://twitter.com/radleyxcountry>`_
     - 2019-12-16 13:07:38
   * - 71
     - `_warden <https://twitter.com/radley_warden>`_
     - 2019-12-12 19:35:09
   * - 72
     - `maths <https://twitter.com/radleymaths>`_
     - 2019-12-01 17:30:24
   * - 73
     - `rccoffeeshop <https://twitter.com/rccoffeeshop>`_
     - 2019-11-28 17:57:57
   * - 74
     - `chapel <https://twitter.com/radleychapel>`_
     - 2019-11-11 14:35:40
   * - 75
     - `french <https://twitter.com/radleyfrench>`_
     - 2019-11-09 20:19:33
   * - 76
     - `athletics <https://twitter.com/radleyathletics>`_
     - 2019-10-22 21:14:31
   * - 77
     - `golf <https://twitter.com/radleygolf>`_
     - 2019-09-18 19:53:57
   * - 78
     - `german <https://twitter.com/radleygerman>`_
     - 2019-07-21 06:28:03
   * - 79
     - `serpentes <https://twitter.com/radleyserpentes>`_
     - 2019-07-07 18:00:50
   * - 80
     - `economics <https://twitter.com/radleyeconomics>`_
     - 2019-05-23 18:42:00
   * - 81
     - `arthist <https://twitter.com/radleyarthist>`_
     - 2019-04-19 08:38:58
   * - 82
     - `fives <https://twitter.com/radleyfives>`_
     - 2019-03-28 09:40:20
   * - 83
     - `shooting <https://twitter.com/radleyshooting>`_
     - 2019-02-28 17:14:30
   * - 84
     - `entry <https://twitter.com/radleyentry>`_
     - 2019-01-20 12:00:12
   * - 85
     - `digital <https://twitter.com/radleydigital>`_
     - 2018-12-09 12:20:31
   * - 86
     - `swimming <https://twitter.com/radleyswimming>`_
     - 2018-12-06 15:45:33
   * - 87
     - `catering <https://twitter.com/radleycatering>`_
     - 2018-11-01 13:16:27
   * - 88
     - `_stem <https://twitter.com/radley_stem>`_
     - 2018-09-28 17:56:38
   * - 89
     - `uni <https://twitter.com/radleyuni>`_
     - 2018-09-28 13:52:23
   * - 90
     - `shop <https://twitter.com/radleyshop>`_
     - 2001-01-01 01:01:01
   * - 91
     - `tech <https://twitter.com/radleytech>`_
     - 2001-01-01 01:01:01
   * - 92
     - `coding <https://twitter.com/radleycoding>`_
     - 2001-01-01 01:01:01
   * - 93
     - `mandarin <https://twitter.com/radleymandarin>`_
     - 2001-01-01 01:01:01

This document was generated on |date| at |time|.

.. code-block:: python

    import tweepy
    import datetime
    import const

    def sort_by_date(e):
        return e['latest']

    mintime=datetime.datetime.strptime("2001-01-01 01:01:01",
                "%Y-%m-%d %H:%M:%S")
    auth = tweepy.OAuthHandler(const.consumer_key,
                const.consumer_secret)
    auth.set_access_token(const.access_token,
                const.access_token_secret)
    api = tweepy.API(auth,wait_on_rate_limit=True,
                wait_on_rate_limit_notify=True)

    alldata =[]
    for s in const.subscriptions:
        user = api.get_user(s)
        latest = mintime
        public_tweets = api.user_timeline(s)
        if len(public_tweets) > 0:
            tweet = public_tweets[0]
            latest=tweet.created_at
        alldata.append(
            {'subscription': s,
             'name'        : user.name,
             'description' : user.description,
             'latest'      : latest
            }
        )

    sorted_data = sorted(alldata, key=sort_by_date, reverse=True)

    output="data.rst"
    f=open(output,"w")
    f.write(const.header)
    count=1
    for e in sorted_data:
        f.write("   * - %d\n" % count)
        count += 1
        f.write("     - `%s <https://twitter.com/%s>`_\n" % (
            const.change(e['subscription']),e['subscription']))
        f.write("     - %s\n" % e['latest'].strftime(
                "%Y-%m-%d %H:%M:%S"))

    f.close()

