======================
 Twitter links Radley
======================

.. list-table::
   :widths: auto

   * - 1
     - `polo <https://twitter.com/radleypolo>`_
     - 2020-03-01 14:21:18
   * - 2
     - `polo <https://twitter.com/radleypolo>`_
     - 2020-03-01 14:21:18
   * - 3
     - `library <https://twitter.com/radleylibrary>`_
     - 2020-03-01 13:08:38
   * - 4
     - `ianyorston <https://twitter.com/ianyorston>`_
     - 2020-03-01 12:32:19
   * - 5
     - `bSocial <https://twitter.com/radleybsocial>`_
     - 2020-03-01 12:10:38
   * - 6
     - `cocurr <https://twitter.com/radleycocurr>`_
     - 2020-03-01 11:32:51
   * - 7
     - `gallery <https://twitter.com/radleygallery>`_
     - 2020-03-01 11:28:42
   * - 8
     - `sust <https://twitter.com/radleysust>`_
     - 2020-03-01 11:22:23
   * - 9
     - `sports <https://twitter.com/radleysports>`_
     - 2020-03-01 10:22:54
   * - 10
     - `precentor <https://twitter.com/radleyprecentor>`_
     - 2020-03-01 09:38:10
   * - 11
     - `hockey <https://twitter.com/radleyhockey>`_
     - 2020-03-01 09:28:24
   * - 12
     - `english <https://twitter.com/radleyenglish>`_
     - 2020-03-01 09:18:12
   * - 13
     - `music <https://twitter.com/radleymusic>`_
     - 2020-03-01 09:02:59
   * - 14
     - `succentor <https://twitter.com/succentor>`_
     - 2020-03-01 09:02:03
   * - 15
     - `archives <https://twitter.com/radleyarchives>`_
     - 2020-02-29 21:44:30
   * - 16
     - `_football <https://twitter.com/radley_football>`_
     - 2020-02-29 20:00:23
   * - 17
     - `physics <https://twitter.com/radleyphysics>`_
     - 2020-02-29 17:30:02
   * - 18
     - `badminton <https://twitter.com/radleybadminton>`_
     - 2020-02-29 15:56:18
   * - 19
     - `fSocial <https://twitter.com/radleyfsocial>`_
     - 2020-02-29 15:44:37
   * - 20
     - `links <https://twitter.com/radleylinks>`_
     - 2020-02-29 14:18:46
   * - 21
     - `theatre <https://twitter.com/radleytheatre>`_
     - 2020-02-29 13:55:10
   * - 22
     - `theology <https://twitter.com/radleytheology>`_
     - 2020-02-29 10:44:11
   * - 23
     - `dSocial <https://twitter.com/radleydsocial>`_
     - 2020-02-28 23:24:11
   * - 24
     - `kSocial <https://twitter.com/radleyksocial>`_
     - 2020-02-28 17:49:36
   * - 25
     - `radleiansociety <https://twitter.com/radleiansociety>`_
     - 2020-02-28 13:37:22
   * - 26
     - `campus <https://twitter.com/radleycampus>`_
     - 2020-02-28 12:56:35
   * - 27
     - `lSocial <https://twitter.com/radleylsocial>`_
     - 2020-02-28 12:55:41
   * - 28
     - `college <https://twitter.com/radleycollege>`_
     - 2020-02-28 11:36:17
   * - 29
     - `eSocial <https://twitter.com/radleyesocial>`_
     - 2020-02-28 08:28:29
   * - 30
     - `enrich <https://twitter.com/radleyenrich>`_
     - 2020-02-28 00:02:32
   * - 31
     - `gSocial <https://twitter.com/radleygsocial>`_
     - 2020-02-27 23:41:55
   * - 32
     - `aSocial <https://twitter.com/radleyasocial>`_
     - 2020-02-27 22:49:04
   * - 33
     - `jSocial <https://twitter.com/radleyjsocial>`_
     - 2020-02-27 22:11:07
   * - 34
     - `hSocial <https://twitter.com/radleyhsocial>`_
     - 2020-02-27 20:30:23
   * - 35
     - `bc <https://twitter.com/radleybc>`_
     - 2020-02-27 16:05:41
   * - 36
     - `rackets <https://twitter.com/radleyrackets>`_
     - 2020-02-25 16:59:22
   * - 37
     - `ccf <https://twitter.com/radleyccf>`_
     - 2020-02-25 10:13:35
   * - 38
     - `passionforpiano <https://twitter.com/passionforpiano>`_
     - 2020-02-24 19:12:58
   * - 39
     - `strength <https://twitter.com/radleystrength>`_
     - 2020-02-22 13:28:31
   * - 40
     - `geography <https://twitter.com/radleygeography>`_
     - 2020-02-21 13:30:58
   * - 41
     - `govtpol <https://twitter.com/radleygovtpol>`_
     - 2020-02-19 09:45:13
   * - 42
     - `chorister <https://twitter.com/radleychorister>`_
     - 2020-02-18 18:59:29
   * - 43
     - `artdept <https://twitter.com/radleyartdept>`_
     - 2020-02-18 15:24:15
   * - 44
     - `it <https://twitter.com/radleyit>`_
     - 2020-02-18 09:50:04
   * - 45
     - `cSocial <https://twitter.com/radleycsocial>`_
     - 2020-02-16 11:18:11
   * - 46
     - `history <https://twitter.com/radleyhistory>`_
     - 2020-02-12 18:28:56
   * - 47
     - `gehandu <https://twitter.com/radleygehandu>`_
     - 2020-02-12 07:48:21
   * - 48
     - `chemistry <https://twitter.com/radleychemistry>`_
     - 2020-02-11 18:43:07
   * - 49
     - `classics <https://twitter.com/radleyclassics>`_
     - 2020-02-10 22:39:12
   * - 50
     - `cricket <https://twitter.com/radleycricket>`_
     - 2020-02-10 15:51:29
   * - 51
     - `charities <https://twitter.com/radleycharities>`_
     - 2020-02-08 17:01:36
   * - 52
     - `acadsupp <https://twitter.com/radleyacadsupp>`_
     - 2020-02-05 21:45:24
   * - 53
     - `sportscen <https://twitter.com/radleysportscen>`_
     - 2020-02-01 08:08:59
   * - 54
     - `rugby <https://twitter.com/radleyrugby>`_
     - 2020-01-31 11:25:49
   * - 55
     - `biology <https://twitter.com/radleybiology>`_
     - 2020-01-31 09:36:55
   * - 56
     - `employ <https://twitter.com/radleyemploy>`_
     - 2020-01-20 09:42:03
   * - 57
     - `chronicle <https://twitter.com/radleychronicle>`_
     - 2020-01-18 13:43:25
   * - 58
     - `iSocial <https://twitter.com/radleyisocial>`_
     - 2020-01-18 12:37:21
   * - 59
     - `adventure <https://twitter.com/radleyadventure>`_
     - 2020-01-04 16:55:12
   * - 60
     - `xcountry <https://twitter.com/radleyxcountry>`_
     - 2019-12-16 13:07:38
   * - 61
     - `medical <https://twitter.com/radleymedical>`_
     - 2019-12-16 10:54:54
   * - 62
     - `_warden <https://twitter.com/radley_warden>`_
     - 2019-12-12 19:35:09
   * - 63
     - `maths <https://twitter.com/radleymaths>`_
     - 2019-12-01 17:30:24
   * - 64
     - `rccoffeeshop <https://twitter.com/rccoffeeshop>`_
     - 2019-11-28 17:57:57
   * - 65
     - `fencing <https://twitter.com/radleyfencing>`_
     - 2019-11-28 16:22:10
   * - 66
     - `design <https://twitter.com/radleydesign>`_
     - 2019-11-14 22:52:29
   * - 67
     - `chapel <https://twitter.com/radleychapel>`_
     - 2019-11-11 14:35:40
   * - 68
     - `french <https://twitter.com/radleyfrench>`_
     - 2019-11-09 20:19:33
   * - 69
     - `athletics <https://twitter.com/radleyathletics>`_
     - 2019-10-22 21:14:31
   * - 70
     - `academic <https://twitter.com/radleyacademic>`_
     - 2019-10-16 10:42:05
   * - 71
     - `golf <https://twitter.com/radleygolf>`_
     - 2019-09-18 19:53:57
   * - 72
     - `subwarden <https://twitter.com/radleysubwarden>`_
     - 2019-09-15 11:09:08
   * - 73
     - `german <https://twitter.com/radleygerman>`_
     - 2019-07-21 06:28:03
   * - 74
     - `serpentes <https://twitter.com/radleyserpentes>`_
     - 2019-07-07 18:00:50
   * - 75
     - `pshe <https://twitter.com/radleypshe>`_
     - 2019-06-10 13:39:25
   * - 76
     - `economics <https://twitter.com/radleyeconomics>`_
     - 2019-05-23 18:42:00
   * - 77
     - `arthist <https://twitter.com/radleyarthist>`_
     - 2019-04-19 08:38:58
   * - 78
     - `fives <https://twitter.com/radleyfives>`_
     - 2019-03-28 09:40:20
   * - 79
     - `shooting <https://twitter.com/radleyshooting>`_
     - 2019-02-28 17:14:30
   * - 80
     - `entry <https://twitter.com/radleyentry>`_
     - 2019-01-20 12:00:12
   * - 81
     - `digital <https://twitter.com/radleydigital>`_
     - 2018-12-09 12:20:31
   * - 82
     - `swimming <https://twitter.com/radleyswimming>`_
     - 2018-12-06 15:45:33
   * - 83
     - `catering <https://twitter.com/radleycatering>`_
     - 2018-11-01 13:16:27
   * - 84
     - `_stem <https://twitter.com/radley_stem>`_
     - 2018-09-28 17:56:38
   * - 85
     - `uni <https://twitter.com/radleyuni>`_
     - 2018-09-28 13:52:23
   * - 86
     - `shop <https://twitter.com/radleyshop>`_
     - 2001-01-01 01:01:01
   * - 87
     - `tech <https://twitter.com/radleytech>`_
     - 2001-01-01 01:01:01
   * - 88
     - `coding <https://twitter.com/radleycoding>`_
     - 2001-01-01 01:01:01
   * - 89
     - `mandarin <https://twitter.com/radleymandarin>`_
     - 2001-01-01 01:01:01

Updated on 2020-03-01 14:50:01.749121


.. code-block:: python

    import tweepy
    import datetime
    import const

    def sort_by_date(e):
        return e['latest']

    mintime=datetime.datetime.strptime("2001-01-01 01:01:01",
                "%Y-%m-%d %H:%M:%S")
    auth = tweepy.OAuthHandler(const.consumer_key,
                const.consumer_secret)
    auth.set_access_token(const.access_token,
                const.access_token_secret)
    api = tweepy.API(auth,wait_on_rate_limit=True,
                wait_on_rate_limit_notify=True)

    alldata =[]
    for s in const.subscriptions:
        user = api.get_user(s)
        latest = mintime
        public_tweets = api.user_timeline(s)
        if len(public_tweets) > 0:
            tweet = public_tweets[0]
            latest=tweet.created_at
        alldata.append(
            {'subscription': s,
             'name'        : user.name,
             'description' : user.description,
             'latest'      : latest
            }
        )

    sorted_data = sorted(alldata, key=sort_by_date, reverse=True)

    output="data.rst"
    f=open(output,"w")
    f.write(const.header)
    count=1
    for e in sorted_data:
        f.write("   * - %d\n" % count)
        count += 1
        f.write("     - `%s <https://twitter.com/%s>`_\n" % (
            const.change(e['subscription']),e['subscription']))
        f.write("     - %s\n" % e['latest'].strftime(
                "%Y-%m-%d %H:%M:%S"))

    f.close()

